.notifications

    --max-width @css{ min(350px, calc(100% - 40px)) }

    html.is-mode-touch &
        --max-width @css{ min(350px, calc(100% - 88px)) }

    position absolute
    top 20px
    left calc(50% - var(--max-width) / 2)
    right 0
    width var(--max-width)
    pointer-events none 

    .items
        position absolute
        top 0
        left 0
        width 100%
        display flex
        flex-direction column-reverse
        align-items center

    .notification
        position relative
        width 100%
        margin-bottom 10px
        padding 16px
        
        // Apple Glassy Style
        background rgba(30, 30, 35, 0.7)
        backdrop-filter blur(20px) saturate(180%)
        -webkit-backdrop-filter blur(20px) saturate(180%)
        border 1px solid rgba(255, 255, 255, 0.15)
        border-radius 18px
        box-shadow 0 8px 32px rgba(0, 0, 0, 0.3)
        
        color #ffffff
        font-family -apple-system, BlinkMacSystemFont, "SF Pro Text", "Segoe UI", Roboto, Helvetica, Arial, sans-serif
        font-size 15px
        line-height 1.4
        
        cursor pointer
        pointer-events auto
        -webkit-user-select none
        user-select none
        
        transform translateY(-20px) scale(0.95)
        opacity 0
        transition all 0.5s cubic-bezier(0.19, 1, 0.22, 1)
        overflow hidden

        &.is-visible
            transform translateY(0) scale(1)
            opacity 1

        &.is-leaving
            transform translateY(-20px) scale(0.95)
            opacity 0
            transition-duration 0.3s

        html:not(.is-mode-touch) &:hover
            background rgba(40, 40, 45, 0.8)
            transform scale(1.02)
            box-shadow 0 12px 40px rgba(0, 0, 0, 0.4)
            
            .bottom
                .open-icon
                    opacity 1

        .time-bar
            position absolute
            bottom 0
            left 0
            width 100%
            height 3px
            background rgba(255, 255, 255, 0.3)
            transform-origin 0 0
            will-change transform
            opacity 0.7

        // Type specific styling
        &.is-achievement
            .top
                display flex
                justify-content space-between
                align-items center
                margin-bottom 6px

                .title
                    font-weight 600
                    color #ffffff
                    font-size 15px
                    margin 0
                    letter-spacing -0.01em

                .progress
                    display flex
                    align-items center
                    font-size 13px
                    font-weight 600
                    color rgba(255, 255, 255, 0.6)
                    background rgba(255, 255, 255, 0.1)
                    padding 2px 8px
                    border-radius 10px

                    .check-icon
                        display inline-block
                        width 14px
                        height 10px
                        margin-right 6px
                        background url(../ui/achievements/check.svg) no-repeat center/contain
                        filter invert(1)

            .bottom
                display flex
                justify-content space-between
                align-items flex-start

                .description
                    margin 0
                    color rgba(255, 255, 255, 0.8)
                    font-size 14px
                
                .open-icon
                    width 20px
                    height 20px
                    background url('../ui/actions/actions-icon-open.webp') center/contain no-repeat
                    opacity 0
                    transition opacity 0.2s

            .time-bar
                background linear-gradient(90deg, #34C759, #30D158) // Apple Green

        &.is-song
            .top
                display flex
                align-items center
                gap 12px

                .music-note-icon
                    width 32px
                    height 32px
                    background rgba(10, 132, 255, 0.2) // Apple Blue tint
                    border-radius 8px
                    display flex
                    align-items center
                    justify-content center
                    
                    &:after
                        content ''
                        display block
                        width 16px
                        height 16px
                        background url(../ui/music-note.svg) center/contain no-repeat
                        filter invert(1)

                .title
                    flex 1
                    text-align left
                    
                    div:first-child
                        font-size 13px
                        color rgba(255, 255, 255, 0.6)
                        font-weight 500
                        margin-bottom 2px
                        text-transform uppercase
                        letter-spacing 0.05em

                    .song-name
                        font-size 15px
                        font-weight 600
                        color #ffffff
                        white-space nowrap
                        overflow hidden
                        text-overflow ellipsis
                        max-width 220px

            .time-bar
                background linear-gradient(90deg, #0A84FF, #5E5CE6) // Apple Blue to Indigo

        &.is-server-connected
            background rgba(20, 40, 30, 0.7)
            .top .title
                color #30D158
                font-weight 600
            .time-bar
                background #30D158

        &.is-server-disconnected
            background rgba(50, 20, 20, 0.7)
            .top .title
                color #FF453A
                font-weight 600
            .time-bar
                background #FF453A
            
        &.is-weather
             .top
                display flex
                align-items center
                gap 10px
                
                .title
                    font-size 15px
                    font-weight 600
                    color #ffffff
            
            .time-bar
                background linear-gradient(90deg, #FFD60A, #FF9F0A) // Apple Yellow to Orange
